"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[481],{3481:(J,l,s)=>{s.r(l),s.d(l,{AccountModule:()=>C});var c=s(6895),e=s(433),t=s(1571),m=s(9479),a=s(9838),u=s(4015);let p=(()=>{class o{constructor(i,r,n){this.accountService=i,this.router=r,this.activateRouter=n,this.loginForm=new e.cw({email:new e.NI("",[e.kI.required,e.kI.email]),password:new e.NI("",e.kI.required)}),this.returnUrl=this.activateRouter.snapshot.queryParams.returnUrl}get email(){return this.loginForm.controls.email}get password(){return this.loginForm.controls.password}onSubmit(){this.accountService.login(this.loginForm.value).subscribe({next:()=>{this.returnUrl?this.router.navigate([this.returnUrl]):this.router.navigateByUrl("/shop")}})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(m.B),t.Y36(a.F0),t.Y36(a.gz))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:12,vars:4,consts:[[1,"d-flex","justify-content-center","mt-5"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-4"],[1,"form-floating","mb-3"],["label","Email Address",3,"formControl"],["type","password","label","Password",3,"formControl"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-primary","mt-3",3,"disabled"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"div",3)(4,"h1",4),t._uU(5,"Login"),t.qZA()(),t.TgZ(6,"div",5),t._UZ(7,"app-text-input",6)(8,"app-text-input",7),t.qZA(),t.TgZ(9,"div",8)(10,"button",9),t._uU(11,"Sign in"),t.qZA()()()()()),2&r&&(t.xp6(2),t.Q6J("formGroup",n.loginForm),t.xp6(5),t.Q6J("formControl",n.loginForm.controls.email),t.xp6(1),t.Q6J("formControl",n.loginForm.controls.password),t.xp6(2),t.Q6J("disabled",n.loginForm.invalid))},dependencies:[e._Y,e.JJ,e.JL,e.oH,e.sg,u.t]})}return o})();var d=s(8372),g=s(5698),h=s(3900),f=s(4004);const v=[{path:"login",component:p},{path:"register",component:(()=>{class o{constructor(i,r,n){this.fb=i,this.router=r,this.accountService=n,this.passwordPattern="(?=^.{6,10}$)(?=.*d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%^&amp;*()_+}{&quot;:;'?/&gt;.&lt;,])(?!.*s).*$",this.registerFrom=this.fb.group({displayName:["",[e.kI.required]],email:["",[e.kI.required,e.kI.email],[this.validateEmailIfExist()]],password:["",[e.kI.required,e.kI.pattern(this.passwordPattern)]]})}onSubmit(){this.accountService.register(this.registerFrom.value).subscribe({next:()=>this.router.navigateByUrl("/shop")})}validateEmailIfExist(){return i=>i.valueChanges.pipe((0,d.b)(1e3),(0,g.q)(1),(0,h.w)(()=>this.accountService.checkEmailExists(i.value).pipe((0,f.U)(r=>r?{emailExists:!0}:null))))}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(e.qu),t.Y36(a.F0),t.Y36(m.B))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],decls:13,vars:5,consts:[[1,"d-flex","justify-content-center","mt-5"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mb-4"],[1,"mb-4"],[1,"form-floating","mb-3"],["label","display name",3,"formControl"],["label","Email Address",3,"formControl"],["label","Password",3,"formControl"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-primary","mt-3",3,"disabled"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.onSubmit()}),t.TgZ(3,"div",3)(4,"h1",4),t._uU(5,"Register"),t.qZA()(),t.TgZ(6,"div",5),t._UZ(7,"app-text-input",6)(8,"app-text-input",7)(9,"app-text-input",8),t.qZA(),t.TgZ(10,"div",9)(11,"button",10),t._uU(12,"Sign up"),t.qZA()()()()()),2&r&&(t.xp6(2),t.Q6J("formGroup",n.registerFrom),t.xp6(5),t.Q6J("formControl",n.registerFrom.controls.displayName),t.xp6(1),t.Q6J("formControl",n.registerFrom.controls.email),t.xp6(1),t.Q6J("formControl",n.registerFrom.controls.password),t.xp6(2),t.Q6J("disabled",n.registerFrom.invalid))},dependencies:[e._Y,e.JJ,e.JL,e.oH,e.sg,u.t]})}return o})()}];let b=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[a.Bz.forChild(v),a.Bz]})}return o})();var y=s(4466);let C=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[c.ez,b,y.m]})}return o})()}}]);